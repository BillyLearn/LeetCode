[275.H指数II](https://leetcode-cn.com/problems/h-index-ii/)

给定一位研究者论文被引用次数的数组（被引用次数是非负整数），数组已经按照 升序排列 。编写一个方法，计算出研究者的 h 指数。

h 指数的定义: “h 代表“高引用次数”（high citations），一名科研人员的 h 指数是指他（她）的 （N 篇论文中）总共有 h 篇论文分别被引用了至少 h 次。（其余的 N - h 篇论文每篇被引用次数不多于 h 次。）"

示例:

```bash
输入: citations = [0,1,3,5,6]
输出: 3
解释: 给定数组表示研究者总共有 5 篇论文，每篇论文相应的被引用了 0, 1, 3, 5, 6 次。
    由于研究者有 3 篇论文每篇至少被引用了 3 次，其余两篇论文每篇被引用不多于 3 次，所以她的 h 指数是 3。
```



**说明:**

如果 h 有多有种可能的值 ，h 指数是其中最大的那个。 

**进阶:**

这是 H 指数 的延伸题目，本题中的 citations 数组是保证有序的。
你可以优化你的算法到对数时间复杂度吗？

**个人分析 (二分搜索方法):**

凡是说要优化算法时间为对数时间复杂度的，一般都会用到二分法。

从上面的题意来看，主要是从 n 的升序中，(下标从0开始）找到 citations[i] >= n - i 的第一个 citations[i]

一般二分法，结束和中间值都固定。 

- 结束: while (low <= height)
- 中间值: mid = low + (height-low) / 2

low = 0, height = n-1

然后再找，H指数, 对应citations的值，等于大于下标的值即：

citations[mid] == n-mid

返回的也是 n-mid

**c++实现**

```c++
#include <iostream>
#include <vector>

using namespace std;

class Solution {
public:
    int hIndex(vector<int>& citations) {
        int size = citations.size();
        if (size == 0) return 0;
        int low = 0;
        int height = size - 1;

        while (low <= height)
        {
            int mid = low + (height - low) / 2;

            if (citations[mid] == size - mid)
                return size - mid;
            else if (citations[mid] > (size - mid))
                height = mid - 1;
            else
                low = mid + 1;
        }
        return (size - low);
    }
};

int main()
{
    Solution s;
    vector<int> citations = {0,1,3,5,6};
    cout << s.hIndex(citations) << endl;
}
```

**python实现**

```python
class Solution:
    def hIndex(self, citations):
        """
        :type citations: List[int]
        :rtype: int
        """
        n = len(citations)
        if n < 1:
            return 0
        low = 0
        height = n - 1
        while low < height:
            mid = low + (height - low) // 2
            if citations[mid] == n-mid:
                return n-mid
            elif citations[mid] > n-mid:
                height = mid - 1
            else:
                low = mid + 1
        return n - low

if __name__ == "__main__":
    s = Solution()
    citations = [0,1,3,5,6]
    print(s.hIndex(citations))
```



